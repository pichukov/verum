// Cyberpunk theme styles

// Import color module for modern functions
@use 'sass:color';

// Neon glow effect mixin
@mixin neon-glow($color, $intensity: 1) {
  text-shadow: 
    0 0 #{5px * $intensity} $color,
    0 0 #{10px * $intensity} $color,
    0 0 #{20px * $intensity} $color,
    0 0 #{40px * $intensity} color.adjust($color, $alpha: -0.5);
}

@mixin neon-box-glow($color, $intensity: 1) {
  box-shadow: 
    0 0 #{5px * $intensity} $color,
    0 0 #{10px * $intensity} $color,
    0 0 #{20px * $intensity} color.adjust($color, $alpha: -0.3),
    inset 0 0 #{5px * $intensity} color.adjust($color, $alpha: -0.5);
}

// Apply cyberpunk styles
.cyberpunk {
  // Typography
  h1, h2, h3, h4, h5, h6 {
    @apply font-cyber uppercase tracking-wider;
  }
  
  h1 {
    @apply text-neon-cyan;
    @include neon-glow(#00FFFF, 0.8);
  }
  
  h2 {
    @apply text-neon-magenta;
    @include neon-glow(#FF00FF, 0.6);
  }
  
  h3 {
    @apply text-neon-blue;
    @include neon-glow(#00D4FF, 0.5);
  }
  
  // Buttons with neon effect
  .cyber-button {
    @apply font-cyber uppercase tracking-wider;
    @apply border-2 border-neon-cyan bg-transparent text-neon-cyan;
    @apply transition-all duration-300;
    position: relative;
    overflow: hidden;
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.4), transparent);
      transition: left 0.5s;
    }
    
    /* Additional lightning effect for cyber-button */
    &::after {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: 
        linear-gradient(45deg, #00FFFF, #FF00FF, #00D4FF, #B026FF, #00FFFF);
      opacity: 0;
      z-index: -1;
      transition: opacity 0.3s ease;
    }
    
    &:hover {
      @apply bg-neon-cyan text-black-900;
      @include neon-box-glow(#00FFFF, 0.8);
      
      &::before {
        left: 100%;
      }
      
      &::after {
        opacity: 0.6;
        animation: cyber-lightning-pulse 0.8s ease-in-out infinite alternate;
      }
    }
  }
  
  // Enhanced lightning animations
  @keyframes cyber-lightning-pulse {
    0% { 
      opacity: 0.3;
      filter: hue-rotate(0deg);
    }
    50% { 
      opacity: 0.8;
      filter: hue-rotate(90deg);
    }
    100% { 
      opacity: 0.5;
      filter: hue-rotate(180deg);
    }
  }
  
  // Input fields
  .cyber-input {
    @apply bg-cyber-dark-2 border-2 border-cyber-gray-2;
    @apply focus:border-neon-cyan focus:outline-none;
    @apply text-neon-cyan font-tech;
    transition: all 0.3s;
    
    &:focus {
      @include neon-box-glow(#00FFFF, 0.3);
    }
  }
  
  // Cards and panels
  .cyber-card {
    @apply bg-cyber-dark-2 border border-cyber-gray-2;
    @apply relative overflow-hidden;
    
    &::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #00FFFF, #FF00FF, #00FFFF);
      opacity: 0;
      z-index: -1;
      transition: opacity 0.3s;
    }
    
    &:hover::before {
      opacity: 0.5;
    }
  }
  
  // Glitch effect - less frequent
  @keyframes glitch {
    0%, 100% { transform: translate(0); opacity: 0; }
    2% { transform: translate(-2px, 2px); opacity: 0.8; }
    4% { transform: translate(-2px, -2px); opacity: 0.6; }
    6% { transform: translate(2px, 2px); opacity: 0.8; }
    8% { transform: translate(2px, -2px); opacity: 0.4; }
    10%, 100% { transform: translate(0); opacity: 0; }
  }
  
  .glitch {
    position: relative;
    
    &::before,
    &::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
    }
    
    &::before {
      animation: glitch 8s infinite;
      color: #00FFFF;
      z-index: -1;
    }
    
    &::after {
      animation: glitch 8s infinite reverse;
      animation-delay: 0.2s;
      color: #FF00FF;
      z-index: -1;
    }
  }
  
  // Scrollbar
  ::-webkit-scrollbar {
    @apply w-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-cyber-dark-1;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-neon-cyan rounded-none;
    @include neon-box-glow(#00FFFF, 0.3);
  }
  
  // Links
  a {
    @apply text-neon-cyan hover:text-neon-magenta;
    @apply transition-colors duration-300;
    
    &:hover {
      @include neon-glow(#FF00FF, 0.5);
    }
  }
}

// Cyberpunk animations
@keyframes cyber-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes cyber-scan {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}

.cyber-pulse {
  animation: cyber-pulse 2s infinite;
}

.cyber-scan-line {
  position: absolute;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, transparent, #00FFFF, transparent);
  animation: cyber-scan 3s infinite linear;
}